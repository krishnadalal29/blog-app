<header class="header-main">
  <div class="header-title" onclick="LoadPage()">Daily Drafts</div>
  <nav class="nav-buttons">
    <!-- <a href="/login" class="header-button">Login</a>
        <a href="/register" class="header-button">Register</a> -->
    <button class="header-button" id="loginButton" onclick="loginPage()">
      Login
    </button>
    <button
      class="header-button"
      id="registerButton"
      onclick="registrationPage()">
      Register
    </button>
  </nav>
</header>
<iframe id="frame" style="width: 100%; height: 400px; border: none"></iframe>
<script>
  function injectStyles() {
    const iframe = document.getElementById("frame");
    const cssUrls = [
      "{{ url_for('static', filename='css/style.css') }}",
      "{{ url_for('static', filename='css/login.css') }}",
    ];

    const iframeDoc = iframe.contentDocument || iframe.contentWindow.document;

    cssUrls.forEach((url) => {
      const link = iframeDoc.createElement("link");
      link.rel = "stylesheet";
      link.href = url;
      iframeDoc.head.appendChild(link);
    });
  }

  function loginPage() {
    document.getElementById("frame").src = "/templates/login";
    document.getElementById("frame").onload = injectStyles;
    document.getElementById("loginButton").hidden = true;
    document.getElementById("registerButton").hidden = false;
  }
  function registrationPage() {
    document.getElementById("frame").src = "/templates/registration";
    document.getElementById("frame").onload = injectStyles;
    document.getElementById("registerButton").hidden = true;
    document.getElementById("loginButton").hidden = false;
  }
  function LoadPage() {
    document.getElementById("loginButton").hidden = false;
    document.getElementById("registerButton").hidden = false;
    document.getElementById("frame").src = "/templates/index";
    document.getElementById("frame").onload = injectStyles;
  }
</script>
